@using SoftfyWeb.Modelos.Dtos;

@{
    ViewData["Title"] = "Mis Playlists";
}

<div class="container py-5">
    <h2 class="text-center">Selecciona una Playlist</h2>

    @if (ViewBag.Error != null)
    {
        <div class="alert alert-danger text-center">@ViewBag.Error</div>
    }

    @if (ViewBag.Playlists != null)
    {
        <form method="post" action="@Url.Action("GuardarEnPlaylist", "VistasCanciones")">
            <input type="hidden" name="cancionId" value="@ViewBag.CancionId" />

            <ul class="list-group">
                @foreach (var playlist in ViewBag.Playlists as List<PlaylistDto>)
                {
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span>@playlist.Nombre</span>
                        <button type="submit" class="btn btn-success" name="playlistId" value="@playlist.Id">Guardar Aquí</button>
                    </li>
                }
            </ul>
        </form>
    }
    else
    {
        <p>No tienes playlists disponibles.</p>
    }
</div>
