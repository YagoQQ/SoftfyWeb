@using SoftfyWeb.Modelos.Dtos;

@{
    ViewData["Title"] = "Mis Playlists";
}

<div class="container mt-5">
    <h2 class="text-white text-center mb-4">Selecciona una Playlist</h2>

    @if (ViewBag.Error != null)
    {
        <div class="alert alert-danger text-center rounded-3 shadow-sm">@ViewBag.Error</div>
    }

    @if (ViewBag.Playlists != null)
    {
        <form method="post" action="@Url.Action("GuardarEnPlaylist", "VistasCanciones")">
            <input type="hidden" name="cancionId" value="@ViewBag.CancionId" />

            <div class="albums-grid">
                @foreach (var playlist in ViewBag.Playlists as List<PlaylistDto>)
                {
                    <div class="cancion-item d-flex justify-content-between align-items-center" style="gap: 1rem;">
                        <span class="playlist-label">@playlist.Nombre</span>
                        <button type="submit" class="btn btn-success" name="playlistId" value="@playlist.Id">
                            Guardar Aquí
                        </button>
                    </div>
                }
            </div>
        </form>
    }
    else
    {
        <p class="text-white text-center mt-4">No tienes playlists disponibles.</p>
    }
</div>
